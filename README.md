# Implant Compare iOS

Cordova iOS application that replaced a iOS 9.x.x native application. Legacy code can be found in /old.

## Code Organization

The base of this repository is a Cordova project. A few notes:

 - All configuration files like `config.xml` are for iOS only.
 - It is recommended you open the root folder with a text editor since XCode doesn't support opening project by folder.
 - The iOS project is under `platform/ios` and is almost entirely committed to `git`.
 - Only `build/dist` folders are excluded from version control and the project is still controlled/generated by the Cordova CLI

By tracking almost all cordova-related files in git, we are able to monitor what the Cordova CLI changes in the project.

It also gives us the possibility to tag stable builds.


```
│  package.json                         --> config for iOS build
│  README.md
│  config.xml                           --> config for iOS build
│
├───hooks                               --> Cordova hooks
├───node_modules                        --> Cordova plugins installed by the CLI
├───platforms
│   └───ios
│		├───IC.xcodeproj  				--> XCode project
│       └───platform_www 				--> contain Cordova js files
├───plugins                             --> plugins folder
│   └───cordova-plugin-whitelist
├───res                                 --> icons and splash screens for iOS
│   ├───icon
│   │   └───ios
│   └───screen
│       └───ios
└───www                                 --> contains the web app build files
```

## How to get started

Follow setup guide of the platform project: https://github.com/Zchanson1/ImplantComparePlatform#how-to-get-started.

Doing that it will ensure you are running the right version of NodeJS and are able to build a valid prod build for Cordova (i.e. what is used in the `www/` folder).

### iOS

Currently, build works with XCode 8.x.x

Install `cordova` CLI version 7.x.x or later

```
npm i -g cordova@latest
```

Install Cordova iOS 4.4.0 or later

To upgrade, run:
```
cordova platform remove ios
cordova platform add ios@4.4.0
```

### Facebook Login Setup

Facebook Login product config: https://developers.facebook.com/apps/1834783516803213/fb-login/

To install the plugin, run:

```
cordova plugin add cordova-plugin-facebook4 --save --variable APP_ID="1834783516803213" --variable APP_NAME="IC"
```

Cordova Facebook Plugin: https://github.com/jeduan/cordova-plugin-facebook4

### Google Login Setup

Cordova Google Plus Plugin: https://github.com/EddyVerbruggen/cordova-plugin-googleplus

To install the plugin, run:
```
cordova plugin add cordova-plugin-googleplus --save --variable REVERSED_CLIENT_ID=com.googleusercontent.apps.807764475515-lei0cla1lpmpmu6n7s43ad7m7pjm36ot
```

The reverse client id is for iOS, find it here: https://console.developers.google.com/apis/credentials?project=implant-compare

### Authenticate Using OAuth Providers with Cordova

See https://firebase.google.com/docs/auth/web/cordova

Plugin to pass application build info (app name, ID, etc) to the OAuth widget.
```
cordova plugin add cordova-plugin-buildinfo --save
```

Plugin to handle Universal Links (Android app link redirects)
```
cordova plugin add cordova-universal-links-plugin --save
```

Plugin to handle opening secure browser views on iOS/Android mobile devices
```
cordova plugin add cordova-plugin-browsertab --save
```

Plugin to handle opening a browser view in older versions of iOS and Android
```
cordova plugin add cordova-plugin-inappbrowser --save
```

Plugin to handle deep linking through Custom Scheme for iOS
```
cordova plugin add cordova-plugin-customurlscheme --variable URL_SCHEME=com.implantcompare.implantcompare --save
```

## Building the App

Build the iOS app with

```
cordova build ios
```

To deploy to emulator or iOS device, just do it from XCode.

## Documentation

See Android section: https://github.com/Zchanson1/ImplantCompareAndroid#documentation

## Credit

See https://github.com/Zchanson1/ImplantCompareAndroid#credits
